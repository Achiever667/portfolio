(window.webpackJsonp=window.webpackJsonp||[]).push([["photos-route"],{"3p8y":function(e,t,a){e.exports={containerLayout:"PrOBO",modalBorderRadius:"4px",wrapper:"WMwuA",container:"_1OYbO PrOBO",stickyHeaderContainer:"_33qjA",stickyHeader:"_2-NN4"}},"8hMo":function(e,t,a){e.exports={truncate:"_1ByhS",resetBtn:"_3d86A",colorBlack:"#111",transitionSpeedBase:"0.1s",containerTruncated:"_3PLD4",text:"KNDj7",textNotTruncated:"_2FfeD",textTruncated:"b5rtm _1ByhS",toggleButton:"_19oEl _3d86A"}},"8ogu":function(e,t,a){e.exports={colorGrey400:"#d1d1d1",colorGrey700:"#767676",fontWeightMedium:"xLon9",lineHeightTitle:"U8wGh",lineHeightCopy:"_13hUA",containerPaddingUnit:"16px",cellPaddingUnit:"8px",headerFontSize:"21px",smallFontSize:"12px",placeholderBackground:"_2VWD4",container:"_2inGn",cell:"_25hJ5",col:"_3QUjw",containerTitle:"_2F-Wi _2inGn",containerFooter:"_1jwED _2inGn",title:"_2SUYt U8wGh",datePublished:"_1QjX3",p:"_12tDI",stats:"_2Mfyb _2inGn",stat:"_1Eyon _25hJ5 _3QUjw",statLabel:"_3DKoV",statLabelIcon:"_1Lv3B",statLabelText:"_3XpFR xLon9",statValue:"_2MB4P",statValueTotal:"_33TT8 _13hUA",statValueDelta:"_3tx78",metadataItemName:"_1BtRQ",hr:"i_eho",metadata:"_3lSAR _2inGn",metadataItem:"z-nkg _25hJ5 _3QUjw",metadataItemValue:"_2MzDl",statValueTotalPlaceholder:"_2qIX_ _2VWD4",statValueDeltaPlaceholder:"_2gCEs _2VWD4"}},C4Tp:function(e,t,a){e.exports={fontWeightNormal:"_27Bp2",gutter:"12px",placeholderBackground:"_2VWD4",heading:"_1-q17 _27Bp2",placeholderItem:"_2x0NQ _2VWD4"}},Ha4l:function(e,t,a){e.exports={colorGrey700:"#767676",colorBlack:"#111",transitionSpeedBase:"0.1s",descriptionExpanded:"_2tqNT",descriptionTruncationNotRequired:"_1fn3S",descriptionTruncated:"_3kvp0"}},OMXo:function(e,t){},OUqd:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("q1tI"),n=a.n(o),i=a("bnCs");const c=Object(i.pipe)(JSON.stringify,e=>e.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,"\\u003C!--"));var s=({jsonLD:e})=>{const t=Object(o.useMemo)(()=>c(e),[e]);return n.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t}})}},P7Ab:function(e,t){},Qx4Z:function(e,t,a){e.exports={colorWhite:"#fff",colorGrey700:"#767676",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",container:"_307c3",actions:"_3-6v7",cell:"_2iWc-",buttonCell:"_27vvN _2iWc-",photographer:"HAAez _2iWc-",downloadButtonCell:"_13Q- _27vvN _2iWc-",downloadButton:"_1AA_u",editPhotoButton:"_2CQGn",secondaryLabel:"_2cSl3",paginationLink:"FeDt5 _27vvN _2iWc-"}},UzCZ:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ba}));var o=a("bnCs"),n=a("q1tI"),i=a.n(n),c=a("/MKj"),s=a("Ty5D"),r=a("b2r9"),l=a("acyj"),d=a("ZfPj"),u=a("OcE/"),h=a("pq3u"),p=a("TRoG"),m=a("J4Es"),b=a("EYcW"),g=a("K0E8"),O=a("D6yk"),j=a("IVTL"),I=a("Jekn"),E=a("fqlR"),_=a("aMqU"),T=a("C8EU"),y=a("GBJA");var v=Object(y.a)("M27.5 18.08a1 1 0 0 0-1.42 0l-9.08 8.59v-23.67a1 1 0 0 0-2 0v23.67l-9.08-8.62a1 1 0 1 0-1.38 1.45l10.77 10.23a1.19 1.19 0 0 0 .15.09.54.54 0 0 0 .16.1.94.94 0 0 0 .76 0 .54.54 0 0 0 .16-.1l.15-.09 10.77-10.23a1 1 0 0 0 .04-1.42z");var f=Object(y.a)("M31.8 15.1l-.2-.4c-3.5-6.9-9.7-11.5-15.6-11.5-6.3 0-12.3 4.5-15.7 11.7l-.2.4c-.2.5-.2 1.1 0 1.6l.2.4c3.6 7 9.7 11.5 15.6 11.5 6.3 0 12.3-4.5 15.6-11.6l.2-.4c.4-.5.4-1.2.1-1.7zm-2 1.2c-3 6.5-8.3 10.5-13.8 10.5-5.2 0-10.6-4.1-13.8-10.4l-.2-.4.1-.3c3.1-6.5 8.4-10.5 13.9-10.5 5.2 0 10.6 4.1 13.8 10.4l.2.4-.2.3zm-13.8-6.6c-3.5 0-6.3 2.8-6.3 6.3s2.8 6.3 6.3 6.3 6.3-2.8 6.3-6.3-2.8-6.3-6.3-6.3zm0 10.6c-2.4 0-4.3-1.9-4.3-4.3s1.9-4.3 4.3-4.3 4.3 1.9 4.3 4.3-1.9 4.3-4.3 4.3z"),N=a("+nE3"),D=a("GVko"),C=a("6SPB"),R=a("phiu"),w=a("AcPn"),S=a("soY1");const x=e=>"ƒ/".concat(e),W=e=>"".concat(e,"s"),P=e=>"".concat(e,"mm");var L,M=a("8ogu"),A=a.n(M);!function(e){e[e.views=0]="views",e[e.downloads=1]="downloads"}(L||(L={}));const k=b.r(e=>g.o(e)||g.p(e)?b.C(e):b.z),B=({photo:e,statRemoteData:t})=>{const a=Object(o.pipeWith)(t,b.l(k),b.p);switch(a._tag){case"RemoteSuccess":{const t=a.value;return i.a.createElement("dd",{className:A.a.statValue},i.a.createElement("span",{className:A.a.statValueTotal},t.total.toLocaleString()),i.a.createElement("span",{className:A.a.statValueDelta},(({stat:e,photo:t})=>{const a=Object(o.pipeWith)(t.created_at,w.c),n=new Date,i=a<Object(R.a)(n,1)?b.C(e.historical.change):b.z;return Object(o.pipeWith)(i,b.u(e=>"".concat(Object(_.d)(e)," since last month")),b.m(()=>"since publishing"))})({stat:t,photo:e})))}case"RemotePending":return i.a.createElement("dd",{className:A.a.statValue},i.a.createElement("div",{className:A.a.statValueTotalPlaceholder}),i.a.createElement("div",{className:A.a.statValueDeltaPlaceholder}))}},G=({photo:e,type:t,statRemoteData:a})=>{const o=(e=>{switch(e){case L.views:return f;case L.downloads:return v}})(t);return i.a.createElement("div",{className:A.a.stat},i.a.createElement("dt",{className:A.a.statLabel},i.a.createElement(o,{className:A.a.statLabelIcon}),i.a.createElement("span",{className:A.a.statLabelText},(e=>{switch(e){case L.views:return"Views";case L.downloads:return"Downloads"}})(t))),B({photo:e,statRemoteData:a}))},q=({photo:e,statsRemoteData:t})=>i.a.createElement("dl",{className:A.a.stats},G({photo:e,type:L.views,statRemoteData:Object(o.pipeWith)(t,g.q(e=>e.views))}),G({photo:e,type:L.downloads,statRemoteData:Object(o.pipeWith)(t,g.q(e=>e.downloads))}),i.a.createElement("div",{className:A.a.stat})),F=({photo:e,maybeCachedPhotoStats:t,photoStatsRemoteData:a})=>Object(o.pipeWith)(t,b.u(t=>q({photo:e,statsRemoteData:g.t({views:t.views,downloads:t.downloads})})),b.a(()=>Object(o.pipeWith)(a,g.g(()=>b.z,()=>b.C(q({photo:e,statsRemoteData:g.r})),e=>b.C((e=>i.a.createElement("div",{className:A.a.container},i.a.createElement("div",{className:A.a.cell},i.a.createElement("p",{className:A.a.p},"Sorry, there was an error loading stats. Please try again later."))))()),t=>b.C(q({photo:e,statsRemoteData:g.t({views:t.views,downloads:t.downloads})})))))),z=({photo:e})=>{const t=(({photo:e})=>{return[{name:"Camera Make",value:Object(o.pipeWith)(b.k(e.exif.make),b.f(S.c))},{name:"Camera Model",value:b.k(e.exif.model)},{name:"Focal Length",value:Object(o.pipeWith)(b.k(e.exif.focal_length),b.u(P))},{name:"Aperture",value:Object(o.pipeWith)(b.k(e.exif.aperture),b.u(x))},{name:"Shutter Speed",value:Object(o.pipeWith)(b.k(e.exif.exposure_time),b.u(W))},{name:"ISO",value:b.k(e.exif.iso)},{name:"Dimensions",value:b.C("".concat(e.width," × ").concat(e.height))}].map(({name:e,value:t})=>({name:e,value:Object(o.pipeWith)(t,b.m(()=>"--"))}))})({photo:e});return i.a.createElement("dl",{className:A.a.metadata},t.map(({name:e,value:t})=>i.a.createElement("div",{key:e,className:A.a.metadataItem},i.a.createElement("dt",{className:A.a.metadataItemName},e),i.a.createElement("dd",{className:A.a.metadataItemValue},t))))},U=({photo:e,photoFullRemoteData:t})=>N.f(e)?b.C(z({photo:e})):Object(o.pipeWith)(t,g.g(()=>b.z,()=>b.C((()=>i.a.createElement("div",{className:A.a.container},i.a.createElement("div",{className:A.a.cell},i.a.createElement(C.a,{padContentBelow:!1}))))()),e=>b.C((e=>i.a.createElement("div",{className:A.a.container},i.a.createElement("div",{className:A.a.cell},i.a.createElement("p",{className:A.a.p},"Sorry, there was an error loading metadata. Please try again later."))))()),e=>b.C(z({photo:e}))));var Z=({photo:e})=>{const t=Object(n.useMemo)(D.a,[]),a=Object(n.useMemo)(D.c,[]),c=Object(T.a)(a=>t(a,e.id)),s=Object(T.a)(t=>a(t,e.id)),r=Object(o.pipeWith)(Object(_.b)(e.created_at),b.p),l=N.d(e)?b.C(e.statistics):b.z,d=Object(E.b)({render:e=>e})([{key:"stats",maybeEl:F({photo:e,maybeCachedPhotoStats:l,photoStatsRemoteData:s})},{key:"metadata",maybeEl:U({photo:e,photoFullRemoteData:c})}]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:A.a.containerTitle},i.a.createElement("div",{className:A.a.cell},i.a.createElement("h2",{className:A.a.title},"Info"),i.a.createElement("span",{className:A.a.datePublished},"Published on ",i.a.createElement("time",{dateTime:e.created_at},r)))),Object(E.a)(d,e=>i.a.createElement("hr",{key:"separator-".concat(e),className:A.a.hr})))},H=a("NbrK"),V=a("gDEP"),K=a("g9Q9"),J=a("bB8w"),Q=a("m/u0"),Y=a("dyzQ"),X=a("Fv/u"),$=a("4/vE"),ee=a("fVvt"),te=a.n(ee);const ae=e=>({backgroundImage:["linear-gradient(hsla(0, 0%, 100%, 0.8), white 150px)",Object(H.i)(e)].join(", ")}),oe=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>{return Object(o.pipeWith)(t,b.m(()=>(e=>Object(V.b)(e)({w:200,blur:20}))(e)))},ne=({rawPhotoUrl:e,maybeImgCurrentSrc:t})=>Object(o.pipeWith)(oe({rawPhotoUrl:e,maybeImgCurrentSrc:t}),ae),ie=X.a.Windowed({scrollableOverlay:!0,contentClassName:te.a.modalWindowedContentModifier}),ce={scrollableOverlay:!0,contentClassName:te.a.modalWindowedContentModifier};var se=({photoId:e,rawPhotoUrl:t,children:a})=>{const[o]=Object(J.a)(Y.a),n=Object(Q.b)(e,o);return i.a.createElement($.a,{redirectTo:{pathname:Object(K.d)({photoId:e})},contentStyles:ne({rawPhotoUrl:t,maybeImgCurrentSrc:n}),mobileLayout:ie,tabletUpWindowedLayout:ce},a)},re=a("TSYQ"),le=a.n(re),de=a("TJpk"),ue=a.n(de),he=a("d8i8"),pe=a("yQCG"),me=a("m2xi"),be=a.n(me),ge=a("s6EG"),Oe=a("9G+b"),je=a("vjdK"),Ie=a("JlLI");const Ee=Object(o.pipe)(K.d,je.a),_e=({photo:e,maybeSubRoute:t,user:a})=>{const n=(({user:e,photo:t})=>{const a=b.l(N.f)(t),n=b.k(t.alt_description),i=Object(o.pipeWith)(n,b.u(e=>"".concat(e," photo"))),c=Object(o.pipeWith)(a,b.b(e=>Ie.m(e.tags)),b.u(e=>"Free ".concat(be()(e.title)," Image on Unsplash")));return Object(o.pipeWith)(b.B(i,c),b.u(([e,t])=>[e,t].join(" – ")),b.a(()=>c),b.a(()=>Object(o.pipeWith)(i,b.u(e=>[e,"Free Image on Unsplash"].join(" – ")))),b.n("HD photo by ".concat(e.name)))})({user:a,photo:e}),i=((e,t)=>{const a=["Download this free HD photo"];if(N.f(t)){const e=Object(o.pipeWith)(Object(Oe.a)(t.tags),b.n(""));a.push("of",e)}const n=b.l(N.f)(t),i=Ie.c([Object(o.pipeWith)(n,b.x(e=>e.location.city)),Object(o.pipeWith)(n,b.x(e=>e.location.country))]);if(i.length>0){const e=i.join(", ");a.push("in ".concat(e))}return a.push("by ".concat(e.name," (@").concat(e.username,")")),a.join(" ")})(a,e),c=Ee({photoId:e.id,maybeSubRoute:t}),s=(e=>"Photo by ".concat(e.name," on Unsplash"))(a),r=(({user:e,photo:t})=>{const a="Download this photo by ".concat(e.name," on Unsplash");return Ie.c([b.k(t.description),b.C(a)]).join(". ")})({user:a,photo:e});return Object(ge.f)({userOption:b.C(a),photoOption:b.C(e),title:n,description:i,socialTitleOption:b.C(s),socialDescriptionOption:b.C(r),canonicalUrl:c,disableIndex:N.f(e)&&!1===e.meta.index})};var Te=a("QH2T"),ye=a("mjVK"),ve=a("EqpS"),fe=a("55Ip"),Ne=a("hyvg"),De=a("G954"),Ce=a("tD8i"),Re=a("h8Sd"),we=a("wmOD"),Se=a("FXv3"),xe=a("35id"),We=a("zrLP"),Pe=a("OlR6"),Le=a("IsKo"),Me=a("HrMy"),Ae=a("QFtp"),ke=a("8hMo"),Be=a.n(ke);const Ge=Object(Ae.unionize)({NotRequired:{},Truncated:Object(Ae.ofType)(),Expanded:Object(Ae.ofType)()}),qe=({onRequestToggle:e,shouldTruncateIfRequired:t,shouldShowTruncateButtonWhenExpanded:a},{doesRequireTruncation:o,shouldForceTruncation:n})=>o?n||t?Ge.Truncated({onRequestToggle:e}):Ge.Expanded({onRequestToggle:e,shouldShowTruncateButton:a}):Ge.NotRequired(),Fe=e=>e.offsetWidth<e.scrollWidth;var ze=class extends n.PureComponent{constructor(e){super(e),this.updateRef=e=>{this.textElRef=e},this.state=this.getInitialState()}getInitialState(){return{doesRequireTruncation:!0,shouldForceTruncation:!0}}componentDidMount(){const e=(()=>{const e=Object(o.pipeWith)(b.k(this.textElRef),b.p);return Fe(e)})();this.setState({doesRequireTruncation:e,shouldForceTruncation:!1})}render(){const{text:e,containerClassNameTruncated:t,containerClassNameExpanded:a,containerClassNameTruncationNotRequired:n}=this.props,c=qe(this.props,this.state),s=Ge.match({Truncated:({onRequestToggle:e})=>b.C({buttonText:"Read more",onRequestToggle:e}),Expanded:({onRequestToggle:e,shouldShowTruncateButton:t})=>t?b.C({buttonText:"Show less",onRequestToggle:e}):b.z,NotRequired:()=>b.z})(c);return i.a.createElement("div",{className:le()(Ge.match({Truncated:()=>[Be.a.containerTruncated,t],Expanded:()=>[a],NotRequired:()=>[n]})(c))},i.a.createElement("p",{ref:this.updateRef,className:le()(Be.a.text,Ge.match({Truncated:()=>Be.a.textTruncated,default:()=>Be.a.textNotTruncated})(c))},e)," ",Object(o.pipeWith)(s,b.u(({buttonText:e,onRequestToggle:t})=>i.a.createElement("button",{className:Be.a.toggleButton,onClick:t,type:"button"},e)),b.F))}},Ue=a("Ha4l"),Ze=a.n(Ue);var He=Object(Le.progressivelyEnhance)(({description:e})=>{const t=Object(pe.d)(),a=Object(pe.a)(),o=Object(he.n)(t),{shouldTruncateDescription:c}=o,s=Object(n.useCallback)(()=>{Me.b.addBreadcrumb({category:Me.a.PhotoPage,message:"request toggle truncated description"}),a.replace(Object(he.u)(e=>Object.assign(Object.assign({},e),{shouldTruncateDescription:!1===e.shouldTruncateDescription}))(t))},[a,t]);return i.a.createElement(ze,{key:e,text:e,containerClassNameTruncationNotRequired:Ze.a.descriptionTruncationNotRequired,containerClassNameExpanded:Ze.a.descriptionExpanded,containerClassNameTruncated:Ze.a.descriptionTruncated,shouldTruncateIfRequired:c,shouldShowTruncateButtonWhenExpanded:!1,onRequestToggle:s})}),Ve=a("pKCy"),Ke=a.n(Ve);const Je=e=>i.a.createElement("div",{className:Ke.a.textContainerItem},e),Qe=({subRoute:e,location:t,photo:a})=>({pathname:Object(K.d)({photoId:a.id,maybeSubRoute:b.C(e)}),state:t.state}),Ye=Object(h.e)()({authUserOption:we.g});var Xe=Object(c.c)(Ye)(({photo:e,authUserOption:t,user:a})=>{const n=Object(pe.d)(),c=Qe({subRoute:Ne.c.info,location:n,photo:e}),s=Qe({subRoute:Ne.c.share,location:n,photo:e}),r=b.k(e.description),l=Object(o.pipeWith)(b.C(e),b.f(N.f),b.b(e=>b.k(e.location.name)),b.f(S.c)),d=Object(o.pipeWith)(t,b.e(e=>e.id===a.id)),u={url:e.links.html,title:Object(o.pipeWith)(b.k(e.alt_description),b.n("")),text:Object(De.b)(a)};return i.a.createElement("div",{className:Ke.a.container},i.a.createElement("div",{className:Ke.a.textContainer},Object(o.pipeWith)(l,b.u(e=>i.a.createElement(fe.a,{to:Object(K.f)(e),className:Ke.a.locationLink},i.a.createElement(Re.a,{className:Ke.a.locationIcon}),i.a.createElement("span",{className:Ke.a.locationTitle},e))),b.u(Je),b.F),Object(o.pipeWith)(r,b.u(e=>i.a.createElement(He,{description:e})),b.u(Je),b.F)),d&&i.a.createElement("div",{className:le()(Ke.a.cell,Ke.a.editPhotoButtonContainer)},i.a.createElement(xe.a,{photoId:e.id,type:"default"})),i.a.createElement("div",{className:Ke.a.cell},i.a.createElement(Pe.a,{shareLocationDescriptor:s,shareOptions:u,renderButton:e=>i.a.createElement(Se.a,Object.assign({tag:"button"},e,{type:"button"})),renderLink:e=>i.a.createElement(We.a,Object.assign({},e))})),i.a.createElement("div",{className:Ke.a.cell},i.a.createElement(We.a,{className:Ke.a.button,buttonType:"outline",buttonSize:"small",to:c},i.a.createElement(Ce.a,{className:Ke.a.buttonIcon}),i.a.createElement("span",{className:Ke.a.buttonText},"Info"))))}),$e=a("M9j0"),et=a("KPJC"),tt=a("dkli"),at=a("5dpl"),ot=a("aOaN"),nt=a("Qx4Z"),it=a.n(nt);const ct=Object(h.c)()((e,{photoId:t})=>({photo:Object(I.a)(e,t),isLoggedIn:Object(we.j)(e),authUserOption:Object(we.g)(e)}));var st=Object(o.pipeWith)(({className:e,photo:t,isLoggedIn:a,authUserOption:c})=>{const s=a?void 0:"green",r=a?"Download":"Download free",l=Object(o.pipeWith)(c,b.e(e=>e.id===t.userId)),d=Object(n.useMemo)(()=>Object(o.pipeWith)(b.k(t.sponsorship),b.u(e=>ot.a.Sponsored({sponsorship:e,secondaryLabelClassName:it.a.secondaryLabel})),b.m(()=>ot.a.NotSponsored({shouldShowUsername:!0}))),[t.sponsorship]);return i.a.createElement("header",{className:le()(e,it.a.container)},i.a.createElement("div",{className:it.a.photographer},i.a.createElement(at.a,{userId:t.userId,contentType:d,type:"emphasiseUsername"})),i.a.createElement("div",{className:it.a.actions},i.a.createElement("div",{className:it.a.buttonCell},l&&i.a.createElement(xe.a,{photoId:t.id,type:"default",className:it.a.editPhotoButton}),i.a.createElement(tt.a,{photoId:t.id})),i.a.createElement("div",{className:it.a.buttonCell},i.a.createElement($e.a,{photoId:t.id})),i.a.createElement("div",{className:it.a.downloadButtonCell},i.a.createElement(et.a,{photoId:t.id,type:s,label:r,className:it.a.downloadButton,showSizesDropdown:!0}))))},Object(c.c)(ct)),rt=a("x4cj"),lt=a("PCiO"),dt=a("KwrD");var ut=Object(y.a)("M19 3v3h4.8l-4.4 4.5 2 2L26 8.2v5h3V3M6 24v-4.6H3V29h9.6v-3H8l5-5-2-2");var ht=Object(y.a)("M3 19v3h4.8l-4.4 4.5 2 2L10 24v5h3V19m9-11V3.4h-3V13h9.6v-3H24l5-5-2-2"),pt=a("OUqd"),mt=a("eGjv"),bt=a("gcgR");const gt=({user:e,photoFull:t})=>({"@context":"https://schema.org","@type":"ImageObject",author:{"@type":"Person",name:e.name},contentLocation:Object(o.pipeWith)(b.k(t.location.name),b.u(e=>({"@type":"Place",name:e})),b.F),contentUrl:t.urls.full,thumbnail:{"@type":"ImageObject",url:t.urls.thumb},datePublished:t.created_at,description:Object(o.pipeWith)(b.k(t.alt_description),b.F),name:Object(o.pipeWith)(b.k(t.alt_description),b.F),acquireLicensePage:Object(o.pipe)(K.d,je.a)({photoId:t.id}),license:Object(je.a)(bt.r),width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),isAccessibleForFree:!0,isFamilyFriendly:!0,caption:Object(o.pipeWith)(b.k(t.description),b.a(()=>b.k(t.alt_description)),b.F),representativeOfPage:!0});var Ot=a("uYHa"),jt=a("jNAd"),It=a("aGzw"),Et=a.n(It);const _t=Object(Ae.unionize)({Unenhanced:Object(Ae.ofType)(),Enhanced:Object(Ae.ofType)()}),Tt=({magicalVerticalOffset:e})=>{const t=()=>{const t=Object(H.h)(10),a=20+e,o=Object(H.e)({styles:it.a,key:"outerHorizontalGutter"});return{TOTAL_HORIZONTAL_PADDING:2*o,TOTAL_VERTICAL_PADDING:a,HORIZONTAL_PADDING_LENGTH:Object(H.h)(o),VERTICAL_PADDING_LENGTH:t}},a=Object(H.d)(1),{TOTAL_HORIZONTAL_PADDING:n,TOTAL_VERTICAL_PADDING:i}=t(),{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:c,IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:s}=(()=>{const{TOTAL_HORIZONTAL_PADDING:e,TOTAL_VERTICAL_PADDING:o}=t();return{IMAGE_WIDTH_CONSTRAINED_TO_VIEWPORT_WIDTH_LENGTH:Object(H.a)("".concat(a," - ").concat(Object(H.h)(e))),IMAGE_HEIGHT_CONSTRAINED_TO_VIEWPORT_HEIGHT_LENGTH:Object(H.a)("".concat("100vh"," - ").concat(Object(H.h)(o)))}})(),r=({photoDimensions:e})=>{if(Object(jt.b)(e)){const{width:t,height:a}=e,o=t/a;return(e=>Math.ceil(e*o))(500)}return 500},l=({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a,n=r({photoDimensions:e});return{minWidthLength:Object(H.h)(n),maxWidthLength:(e=>Object(H.a)("(".concat(e,") * ").concat(Object(Ot.f)(o))))(s)}},d=()=>[{mediaCondition:Et.a.isFixedMediaCondition,width:a}],u=({photoDimensions:e,isZoomedOut:t})=>{if(t){const{minWidthLength:t,maxWidthLength:a}=l({photoDimensions:e}),{isMinSizeMediaConditions:o,isConstrainedByViewportHeightMediaCondition:s}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=a/t,c=r({photoDimensions:e}),s=(e=>Math.ceil(e*o))(c),l=["(max-width: ".concat(Object(H.h)(c+n),")"),"(max-height: ".concat(Object(H.h)(s+i),")")],d="".concat(t,"/").concat(a);return{isMinSizeMediaConditions:l,isConstrainedByViewportHeightMediaCondition:"(min-aspect-ratio: ".concat(d,")")}})({photoDimensions:e});return[...o.map(e=>({mediaCondition:e,width:t})),{mediaCondition:s,width:a},{width:c}]}return[{width:a}]},h=Object(o.pipe)(({photoDimensions:e,zoomableOptions:t})=>[...d(),...u({photoDimensions:e,isZoomedOut:t.isZoomedOut})],lt.e);return{getPaddingConstants:t,getImgSrcSetString:({photoDimensions:e,baseUrl:t})=>{const{width:a}=e,{lowerBound:o,upperBound:n}=(({photoDimensions:e})=>{const{width:t,height:a}=e,o=t/a;return{lowerBound:(e=>Math.ceil(e*o))(500),upperBound:t}})({photoDimensions:e});return Object(lt.b)({baseUrl:t,lowerBound:o,upperBound:n,originalWidth:a,interval:300,imgixParams:{q:80}})},getMinAndMaxWidthsLengths:l,getImgSizesString:h,createFallbackSrc:e=>Object(V.b)(e)({w:1e3,q:80})}};var yt=Object(o.pipeWith)(class extends n.PureComponent{constructor(e){super(e),this.onRequestMainImageToggleZoom=()=>{Me.b.addBreadcrumb({category:Me.a.PhotoPage,message:"request toggle main image zoom"}),this.trackToggleZoomableMainImageZoom(),this.toggleZoomableMainImageZoom()},this._getMainImageRenderType=Object(rt.d)(({location:e,renderType:t})=>{const a=Object(he.n)(e);return dt.a.match({Unenhanced:()=>_t.Unenhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut}}),Enhanced:()=>_t.Enhanced({zoomable:{isZoomedOut:a.zoomableMainImageOptions.isZoomedOut,onRequestToggleZoom:this.onRequestMainImageToggleZoom}})})(t)}),this.getMainImageRenderType=()=>{const{location:e,renderType:t}=this.props;return this._getMainImageRenderType({location:e,renderType:t})},this.renderZoomableImageOverlay=({isZoomedOut:e})=>{const t=e?ut:ht;return i.a.createElement("div",{className:Et.a.overlay},i.a.createElement("div",{className:Et.a.overlayChild},i.a.createElement(t,{className:Et.a.zoomToggleIcon})))},this.renderImage=()=>{const{photo:e,magicalVerticalOffset:t}=this.props,{shouldUseInitialSrcIfAvailable:a}=this.state,n=e.urls.raw,{getImgSizesString:c,getImgSrcSetString:s,createFallbackSrc:r}=Tt({magicalVerticalOffset:t}),{width:l,height:d}=e,u={width:l,height:d},h=c({zoomableOptions:this.getMainImageRenderType().zoomable,photoDimensions:u}),p=()=>s({photoDimensions:u,baseUrl:n}),m=r(n);return i.a.createElement(Y.a.Consumer,null,t=>{const[n]=b.p(t),c=Object(Q.b)(e.id,n),s=a?Object(o.pipeWith)(c,b.u(e=>Object(lt.f)([{url:e}])),b.m(p)):p();return i.a.createElement(mt.a,{aspectRatio:e,containerClassName:Et.a.imagePlaceholder,sizes:h,srcSet:s,src:m,alt:Object(o.pipeWith)(b.k(e.alt_description),b.F)})})},this.renderImageWithJsonLd=()=>{const{photo:e,user:t}=this.props,a=b.l(N.f)(e),n=Object(o.pipeWith)(a,b.u(e=>{const a=gt({user:t,photoFull:e});return i.a.createElement(pt.a,{jsonLD:a})}));return i.a.createElement(i.a.Fragment,null,Object(o.pipeWith)(n,b.E),this.renderImage())},this.renderZoomableImageButton=e=>{const{isZoomedOut:t,onRequestToggleZoom:a}=e,o=le()(Et.a.imageButton,t?Et.a.imageButtonZoomedOut:Et.a.imageButtonZoomedIn);return i.a.createElement("button",{className:o,onClick:a,type:"button"},this.renderZoomableImageOverlay(e),this.renderImageWithJsonLd())},this.renderZoomableImageContainer=()=>{const{photo:e,magicalVerticalOffset:t}=this.props,{getMinAndMaxWidthsLengths:a,getPaddingConstants:o}=Tt({magicalVerticalOffset:t}),n=this.getMainImageRenderType(),{isZoomedOut:c}=n.zoomable,{HORIZONTAL_PADDING_LENGTH:s,VERTICAL_PADDING_LENGTH:r}=o(),{width:l,height:d}=e,u={width:l,height:d},{minWidthLength:h,maxWidthLength:p}=a({photoDimensions:u});return i.a.createElement("div",{style:c?{padding:"".concat(r," ").concat(s)}:{}},i.a.createElement("div",{style:c?{minWidth:h,maxWidth:p}:{},className:Et.a.imageContainer},_t.match({Unenhanced:this.renderImage,Enhanced:e=>this.renderZoomableImageButton(e.zoomable)})(n)))},this.state=this.getInitialState()}getInitialState(){return{shouldUseInitialSrcIfAvailable:!0}}componentDidMount(){requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.disableInitialSrc()})})}UNSAFE_componentWillReceiveProps(e){const{photo:t}=this.props;e.photo.id!==t.id&&this.setState(this.getInitialState)}componentDidUpdate(){this.state.shouldUseInitialSrcIfAvailable&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.state.shouldUseInitialSrcIfAvailable&&this.disableInitialSrc()})})}trackToggleZoomableMainImageZoom(){const{location:e,dispatch:t,photo:a}=this.props,{zoomableMainImageOptions:o}=Object(he.n)(e);o.isZoomedOut?t(Object(r.J)(a.id)):t(Object(r.K)(a.id))}toggleZoomableMainImageZoom(){const{history:e,location:t,dispatch:a}=this.props;Object(he.d)(t)&&a(Object(r.n)()),e.replace(Object(he.u)(e=>Object.assign(Object.assign({},e),{zoomableMainImageOptions:Object.assign(Object.assign({},e.zoomableMainImageOptions),{isZoomedOut:!1===e.zoomableMainImageOptions.isZoomedOut})}))(t))}disableInitialSrc(){this.setState({shouldUseInitialSrcIfAvailable:!1})}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Et.a.isFixed},this.renderImageWithJsonLd()),i.a.createElement("div",{className:Et.a.isZoomable},this.renderZoomableImageContainer()))}},dt.b,s.h,Object(c.c)(null)),vt=a("tbx4"),ft=a("4raZ"),Nt=a("R3Dg"),Dt=a("XhtD"),Ct=a("lpo+"),Rt=a("RwKq"),wt=a("G4qV"),St=a("PwPQ"),xt=a("x5qg");const Wt=e=>Object(o.pipeWith)(p.c.Photos({photoId:e,maybeSubRoute:b.z}),St.a),Pt=()=>{const e=Object(xt.b)();return Object(wt.a)((t,a)=>e(t,Wt(a)),Object(rt.h)(g.q(({ids:e})=>e)))};var Lt=a("A75h"),Mt=a("XJg7"),At=a("lS9m"),kt=a("CdAG"),Bt=a("Nb12");const Gt=Lt.a.match({Phone:()=>12,Tablet:()=>24,Desktop:()=>24});var qt=a("C4Tp"),Ft=a.n(qt);const zt=()=>O.b,Ut=i.a.memo(({columnCount:e,gutter:t})=>{const a=Object(n.useMemo)(()=>Object(Dt.a)(18).map(()=>({width:250,height:250})),[]);return i.a.createElement(Mt.d,{shouldUseContainerPadding:!1,photos:a,getKey:(e,t)=>t,columnCount:e,renderPhoto:()=>i.a.createElement("div",{className:Ft.a.placeholderItem}),columnGutter:t,rowGutter:t})}),Zt=Ct.a.multi(),Ht=({photoId:e})=>{const t=Wt(e),a=Object(n.useRef)(null),c=Object(Rt.a)(a),s=Object(T.a)(Lt.e),r=Gt(s),l=Object(n.useMemo)(()=>({mobileLayout:Zt,columnGutter:r}),[r]);return i.a.createElement("div",{ref:a},Object(o.pipeWith)(c,b.u(e=>{const a=(e=>e<=1e3?Mt.b:Mt.a)(e.width);return i.a.createElement(At.a,null,i.a.createElement(Bt.a,{feedId:t,fetchPhotos:zt,getPlaceholderEl:()=>i.a.createElement(Ut,{columnCount:a,gutter:r})},e=>i.a.createElement(kt.a,{shouldUseContainerPadding:!1,grid:l,photos:e,columnCount:a,rowGutter:r})))}),b.E))},Vt=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:Ft.a.heading},"Related photos"),i.a.createElement(Ht,{photoId:e}));var Kt=i.a.memo(({photoId:e})=>{const t=Object(n.useMemo)(Pt,[]),a=Object(T.a)(a=>t(a,e));return Object(o.pipeWith)(a,g.g(()=>null,()=>Vt(e),()=>null,t=>{return Ie.o(t)?null:Vt(e)}))}),Jt=a("wBxZ"),Qt=a("rd0y");const Yt=[...a("yNRK").a.map(({title:e,url:t})=>({title:e,linkUrl:t})),{title:"Free pictures",linkUrl:bt.m}],Xt=({originalPhotoTags:e,isLoggedIn:t})=>e.length>4&&!1===t,$t=({photoId:e})=>Object(o.pipe)(Xt,t=>t?b.C((({photoId:e})=>Ie.v({seed:e,array:Yt}))({photoId:e})):b.z),ea=e=>{const t=e.type===vt.RelatedCollectionsType.related?"Related collections":"Featured in",a=e.result_ids;return i.a.createElement(ft.a,{relatedCollectionIds:a,heading:t})},ta=Object(h.c)()((e,t)=>({isLoggedIn:Object(we.j)(e)}));var aa=Object(c.c)(ta)(({photo:e,isLoggedIn:t})=>{const a=b.k(N.f(e)?e.related_collections:void 0),n=N.f(e)?b.C(e.tags):b.z;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Kt,{photoId:e.id}),Object(o.pipeWith)(a,b.u(ea),b.n(void 0)),Object(o.pipeWith)(n,b.u(a=>{const o=(({originalPhotoTags:e,photoId:t,isLoggedIn:a})=>{const o=Ie.c([$t({photoId:t})({originalPhotoTags:e,isLoggedIn:a})]);return[...Object(Jt.a)(e,Qt.b),...o]})({originalPhotoTags:a,photoId:e.id,isLoggedIn:t});return i.a.createElement(Nt.a,{headingCopy:"Related tags",tags:o,showHeading:!0,maximumResultsCount:1/0})}),b.F))}),oa=a("3p8y"),na=a.n(oa);var ia=Object(o.pipeWith)(({photo:e,children:t,maybeSubRoute:a})=>{const o=Object(pe.d)(),n=Object(he.d)(o),c=n?155:200,s=Object(T.a)(t=>Object(I.f)(t,e.id));return i.a.createElement("div",Object.assign({},Object(ye.a)(Te.o)),i.a.createElement("div",{className:na.a.wrapper},i.a.createElement(ue.a,Object.assign({},_e({photo:e,maybeSubRoute:a,user:s}))),i.a.createElement("div",null,i.a.createElement("div",{className:le()(n&&na.a.stickyHeaderContainer)},i.a.createElement(st,{photoId:e.id,className:n?na.a.stickyHeader:void 0})),i.a.createElement(ve.a,{photoId:e.id},i.a.createElement(yt,{photo:e,magicalVerticalOffset:c,user:s})),i.a.createElement(Xe,{photo:e,user:s})),i.a.createElement("div",{className:na.a.container},i.a.createElement(aa,{photo:e}))),t)},e=>Object(n.memo)(e)),ca=a("5ZMw"),sa=a("SORa"),ra=a("41dW");const la={utmContent:ca.e.PHOTOS_PAGE_SHARE};var da=({photo:e})=>{const t=e.links.html,a=Object(T.a)(t=>Object(I.f)(t,e.id)),o=Object(De.b)(a),c=Object(V.b)(e.urls.raw)({w:2e3}),s=Object(n.useMemo)(()=>[sa.a.facebook(),sa.a.pinterest({message:o,media:c}),sa.a.twitter({message:o}),sa.a.email()].map(e=>({type:e,url:t,trackUrlOptions:la})),[t,c,o]);return i.a.createElement(ra.a,{title:"Photo by ".concat(a.name),buttonsShareProps:s,link:t})},ua=a("gI8/");const ha=Object(h.d)()(()=>{const e=Object(ua.b)();return(t,{routeData:a})=>({staleDataOption:e(t,a)})});var pa=Object(s.h)(Object(c.c)(ha)(class extends n.Component{constructor(){super(...arguments),this.routeChangeSubject=new O.d,this.unmountSubject=new O.d}componentDidMount(){this.fetchDataIfNecessary()}componentDidUpdate(e){const{subRoute:t}=this.props;t!==e.subRoute&&(this.routeChangeSubject.next(),this.fetchDataIfNecessary())}fetchDataIfNecessary(){const{routeData:e,dispatch:t,history:a,staleDataOption:n}=this.props;if(Object(o.pipeWith)(n,b.s)){Object(ua.a)(l.a)(e).pipe(O.gb(O.M(this.routeChangeSubject,this.unmountSubject)),O.cb([r.a.IncrementDataFetchingCounter()]),O.u([r.a.RouteDataUpdated(),r.a.DecrementDataFetchingCounter()]),O.h(0),O.K(Ie.k)).subscribe(Object(d.b)({dispatch:t,history:a}))}}componentWillUnmount(){this.unmountSubject.next(),this.unmountSubject.complete()}render(){return this.props.children}}));const ma=Object(h.d)()(()=>{const e=Object(I.g)(),t=Pt();return(a,o)=>{const{photoId:n}=o.routeData;return{photoOption:e(a,n),relatedPhotoIdsRemoteData:t(a,n)}}});var ba=Object(o.pipeWith)(class extends n.PureComponent{constructor(){super(...arguments),this.onRootRouteLeaveSubject=new O.d}componentDidMount(){this.fetchRelatedPhotosThenCacheAndSet()}componentDidUpdate(e){this.props.routeData.photoId!==e.routeData.photoId&&(this.cleanup(),this.fetchRelatedPhotosThenCacheAndSet())}componentWillUnmount(){this.cleanup()}cleanup(){this.onRootRouteLeaveSubject.next({})}updateRelatedPhotoIdsRemoteData(e){const{dispatch:t,routeData:a}=this.props,{photoId:n}=a,i=Object(o.pipeWith)(e,g.q(e=>({lastPageFetched:1,perPage:e.length,total:e.length,ids:e}))),c=Wt(n);t(r.a.AddPhotoFeedRemoteData({feedId:c,request:i}))}fetchRelatedPhotosThenCacheAndSet(){const{routeData:e,relatedPhotoIdsRemoteData:t,dispatch:a,history:n}=this.props,{photoId:i}=e;if(!1===g.p(t)){const e=g.r;r.a.IncrementDataFetchingCounter(),this.updateRelatedPhotoIdsRemoteData(e),l.a.photos.getRelatedPhotos({photoId:i}).pipe(O.n(),O.w(g.k),O.K(g.q(e=>Object(u.f)(e.results))),O.gb(this.onRootRouteLeaveSubject)).subscribe({next:e=>{Object(c.b)(()=>{Object(o.pipeWith)(e,g.v,b.i(({entities:e})=>{a(r.M(e))})),this.updateRelatedPhotoIdsRemoteData(Object(o.pipeWith)(e,g.q(({result:e})=>e)))})},complete:()=>{a(r.a.DecrementDataFetchingCounter())},error:Object(d.c)(a,n)})}}renderSubRoute({photo:e,subRoute:t}){const a=Object(j.a)()({photo:e});switch(t){case p.b.info:return i.a.createElement(Z,Object.assign({},a));case p.b.share:return i.a.createElement(da,Object.assign({},a))}}renderSubRouteWithWrapper(e){const{routeData:t}=this.props;return Object(o.pipeWith)(t.maybeSubRoute,b.u(a=>i.a.createElement(pa,{subRoute:a,routeData:t},i.a.createElement(se,{photoId:e.id,rawPhotoUrl:e.urls.raw},this.renderSubRoute({photo:e,subRoute:a})))),b.F)}render(){const{photoOption:e,routeData:t}=this.props;return Object(o.pipeWith)(e,b.u(e=>i.a.createElement(ia,{maybeSubRoute:t.maybeSubRoute,photo:e},this.renderSubRouteWithWrapper(e))),b.E)}},Object(m.b)({routeType:m.a.DynamicRoute}),Object(c.c)(ma),s.h)},ZhgG:function(e,t,a){e.exports={colorBlack:"#111",colorWhite:"#fff",transitionSpeedBase:"0.1s",container:"_332qM",content:"_1jlc7",tooltip:"_2lnv7",tooltipMultiLine:"_1qCFx"}},aGzw:function(e,t,a){e.exports={resetBtn:"_3d86A",spacingUnit:"4px",centerItem:"_3mCZ_",colorWhite:"#fff",colorGrey100:"#f5f5f5",isFixedMediaCondition:"(max-width: 767px)",isZoomableMediaCondition:"(min-width: 768px)",imagePlaceholder:"_2yFK-",imageContainer:"_1ac-D _3mCZ_",imageButton:"_1szcv _3d86A",overlay:"_2MKkb",imageButtonZoomedIn:"_2-OhB",imageButtonZoomedOut:"_1YS_6",overlayChild:"_1w7cG",zoomToggleIcon:"_1NYtf",isFixed:"pADQw",isZoomable:"_2QvSN"}},eodw:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("TSYQ"),n=a.n(o),i=a("q1tI"),c=a.n(i),s=a("ZhgG"),r=a.n(s);var l=e=>{const{children:t,label:a,bottom:o,width:i,className:s}=e,l=t.props&&t.props.className,d=void 0!==i&&0!==i;return c.a.createElement("div",{className:n()(r.a.container,s)},c.a.cloneElement(t,Object.assign({},t.props,{className:n()([r.a.content],l)})),c.a.createElement("span",{className:n()(r.a.tooltip,{[r.a.tooltipMultiLine]:d}),style:{width:i,bottom:o}},a))}},fVvt:function(e,t,a){e.exports={modalWindowedContentModifier:"_2AYJu"}},h8Sd:function(e,t,a){"use strict";var o=a("GBJA");t.a=Object(o.a)("M16 0c-6.7 0-12 5.3-12 12 0 8.6 8.6 17.3 11.2 19.7.4.4 1.1.4 1.5 0 2.7-2.4 11.3-11.1 11.3-19.7 0-6.7-5.3-12-12-12zm0 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z")},jNAd:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c}));var o,n=a("bnCs");!function(e){e.portrait="portrait",e.landscape="landscape",e.square="square"}(o||(o={}));const i=Object(n.pipe)(e=>{const{width:t,height:a}=e;return a>t?o.portrait:a<t?o.landscape:o.square},e=>e===o.square||e===o.portrait),c=({aspectRatio:e,maxWidth:t})=>{return{width:t,height:t*(e.height/e.width)}}},pKCy:function(e,t,a){e.exports={spacingUnit:"4px",colorBlack:"#111",truncate:"_1ByhS",fontWeightMedium:"xLon9",resetBtn:"_3d86A",outerHorizontalGutter:"16px",innerHorizontalGutter:"8px",cellPadding:"calc(8px / 2)",smallFontSize:"12px",container:"_1ltEq",cell:"_3dxKb",halfCell:"_3kEvh",textContainer:"_2DxLe _3kEvh",textContainerNotTruncated:"gfzKD",textContainerTruncated:"OD7Kw",textContainerItem:"_28uSB _3kEvh",locationLink:"_2RL3a xLon9",locationIcon:"_15of1",locationTitle:"_20NLS _1ByhS",button:"_3JXJ6",editPhotoButtonContainer:"_1RttL",buttonIcon:"_1rYbs",buttonText:"_1efgd"}},tbx4:function(e,t,a){"use strict";a.d(t,"RelatedCollectionsType",(function(){return o}));var o;a("OMXo"),a("P7Ab");!function(e){e.related="related",e.collected="collected"}(o||(o={}))},yNRK:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a("fcws"),n=a("SsV6");const i=[{title:"Public domain images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"public domain"})},{title:"Free stock photos",routeData:n.a.Category({type:"images",category:"stock"})},{title:"Creative Commons images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"creative common"})},{title:"PNG images",routeData:n.a.Subcategory({type:"images",category:"stock",subcategory:"png"})},{title:"Free images",routeData:n.a.Type({type:"images"})}].map(({title:e,routeData:t})=>({title:e,url:Object(o.a)(t)}))}}]);
//# sourceMappingURL=photos-route.34616.js.map